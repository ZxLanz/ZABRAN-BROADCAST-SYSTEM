# ============================================
# ZABRAN BROADCAST SYSTEM - Backend Environment
# ============================================
# Last Updated: 2025-01-26
# Environment: Development
# ============================================

# ===========================================
# SERVER CONFIGURATION
# ===========================================
PORT=5000
NODE_ENV=development
HOST=localhost

# ===========================================
# DATABASE CONFIGURATION - MongoDB Atlas
# ===========================================
MONGODB_URI=mongodb+srv://dzilanbaru_db_user:YTAkhCj0wu8pd2br@zabran-zil.qtusffh.mongodb.net/zabran-broadcast?retryWrites=true&w=majority&appName=Zabran-Zil

# Database Options
DB_MAX_POOL_SIZE=10
DB_TIMEOUT=30000

# ===========================================
# AUTHENTICATION & SECURITY
# ===========================================
JWT_SECRET=zabran-super-secret-jwt-key-change-this-in-production-2025
JWT_EXPIRE=30d
JWT_COOKIE_EXPIRE=30

# Password Security
BCRYPT_ROUNDS=10

# Session
SESSION_SECRET=zabran-session-secret-change-in-production-2025

# ===========================================
# CORS CONFIGURATION
# ===========================================
FRONTEND_URL=http://localhost:5173
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# ===========================================
# N8N AUTOMATION WEBHOOKS
# ===========================================
N8N_BASE_URL=http://localhost:5678
N8N_AI_WEBHOOK=/webhook/generate-message
N8N_BROADCAST_WEBHOOK=/webhook/broadcast-send
N8N_CUSTOMER_IMPORT_WEBHOOK=/webhook/customer-import

# Full Webhook URLs
N8N_WEBHOOK_URL=http://localhost:5678/webhook/generate-message

# ===========================================
# AI SERVICE CONFIGURATION
# ===========================================
AI_PROVIDER=gemini
AI_MODEL=gemini-2.5-flash
# Note: Gemini API Key diatur di n8n workflow

# ===========================================
# WHATSAPP API CONFIGURATION
# ===========================================
WHATSAPP_PROVIDER=waha
WHATSAPP_API_URL=http://localhost:3000
# WHATSAPP_API_TOKEN=your-token-here
# WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id

# ===========================================
# FILE UPLOAD CONFIGURATION
# ===========================================
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/jpg,application/pdf,text/csv
UPLOAD_DIR=./uploads
TEMP_DIR=./temp

# ===========================================
# RATE LIMITING
# ===========================================
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100

# ===========================================
# LOGGING & MONITORING
# ===========================================
DEBUG=true
LOG_LEVEL=info
LOG_FILE=./logs/app.log

# ===========================================
# SESSION & COOKIE
# ===========================================
COOKIE_DOMAIN=localhost
COOKIE_SECURE=false
COOKIE_SAMESITE=lax

# ===========================================
# FEATURE FLAGS
# ===========================================
FEATURE_AI_GENERATOR=true
FEATURE_BROADCAST=true
FEATURE_TEMPLATES=true
FEATURE_REPORTS=true
FEATURE_WEBHOOKS=true

# ===========================================
# DEVELOPMENT SETTINGS
# ===========================================
AUTO_RELOAD=true
LOG_API_RESPONSE_TIME=true
JSON_PRETTY_PRINT=true

# ===========================================
# EMAIL SERVICE (Optional)
# ===========================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=noreply@zabran.com
# SMTP_PASS=your-app-password
# EMAIL_FROM=ZABRAN Broadcast <noreply@zabran.com>

# ===========================================
# REDIS CONFIGURATION (Optional)
# ===========================================
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=
# REDIS_DB=0

# ===========================================
# PRODUCTION NOTES
# ===========================================
# When deploying to production, update:
# - NODE_ENV=production
# - DEBUG=false
# - JWT_SECRET (generate new random string)
# - SESSION_SECRET (generate new random string)
# - COOKIE_SECURE=true
# - FRONTEND_URL (your production domain)
# - N8N_BASE_URL (your n8n domain)
# - WHATSAPP_API_URL (production WhatsApp API)

# ===========================================
# SUPPORT
# ===========================================
# Docs: https://docs.zabran.com
# Support: support@zabran.com